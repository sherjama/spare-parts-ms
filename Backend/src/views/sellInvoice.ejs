<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <title>Invoice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Roboto&display=swap");
      body {
        font-family: "Roboto", sans-serif;
      }
    </style>
  </head>
  <body>
    <div
      class="max-w-[800px] mx-auto border border-green-600 p-4 text-[10px] leading-tight text-gray-900"
    >
      <div class="font-extrabold text-gray-700 text-[16px] text-center">
        INVOICE
      </div>
      <div
        class="relative top-16 float-right w-24 h-16 flex flex-col justify-center items-left"
      >
        <div class="flex justify-between">
          <span class="font-bold text-md">Date</span>
          <span>:</span>
          <span><%= sell.date %></span>
        </div>
        <div class="flex justify-between">
          <span class="font-bold text-md">Invoice</span>
          <span>:</span>
          <span><%= sell.billNo %></span>
        </div>
      </div>
      <div class="flex justify-between items-start mb-2">
        <div class="flex flex-col items-center">
          <img
            class="mb-1"
            height="50"
            width="50"
            src="<%= user.logo %>"
            alt="Ferm logo"
          />
          <span class="text-[9px] font-semibold text-[#b36a00]"
            ><%= user.fermName %></span
          >
        </div>
      </div>

      <!-- Seller Info -->
      <div class="mb-1">
        <div class="font-semibold text-[14px] leading-none">
          <%= user.fermName %>
        </div>
        <div class="text-[9px]">Email: <%= user.email %></div>
      </div>

      <!-- Buyer Info -->
      <div
        class="bg-green-600 text-white text-[9px] font-bold w-[130px] text-center mb-1 select-none"
      >
        BILL TO
      </div>
      <div class="text-[9px] mb-2">
        <%= sell.customerName %><br />
        <%= sell.address %><br />
        <%= sell.mobileNumber %>
      </div>

      <!-- Table -->
      <div class="overflow-x-auto">
        <table
          class="w-full border border-green-600 border-collapse text-[9px]"
        >
          <thead>
            <tr class="bg-green-600 text-white font-bold select-none">
              <th class="border border-green-600 px-1 text-left w-[30px]">
                S No.
              </th>
              <th class="border border-green-600 px-1 text-left w-[90px]">
                Part Number
              </th>
              <th class="border border-green-600 px-1 text-left w-[180px]">
                DESCRIPTION
              </th>
              <th class="border border-green-600 px-1 text-center w-[30px]">
                QTY
              </th>
              <th class="border border-green-600 px-1 text-right w-[70px]">
                Unit price
              </th>
              <th class="border border-green-600 px-1 text-right w-[70px]">
                AMOUNT
              </th>
            </tr>
          </thead>
          <tbody>
            <% partDetails.forEach((item, index) => { %>
            <tr class="<%= index % 2 === 0 ? 'bg-gray-100' : '' %>">
              <td class="border border-green-600 px-1"><%= index + 1 %></td>
              <td class="border border-green-600 px-1">
                <%= item.partInfo.partNumber %>
              </td>
              <td class="border border-green-600 px-1">
                <%= item.partInfo.partName %>
              </td>
              <td class="border border-green-600 px-1 text-center">
                <%= item.Qty %>
              </td>
              <td class="border border-green-600 px-1 text-right">
                ₹ <%= item.unitPrice %>
              </td>
              <td class="border border-green-600 px-1 text-right">
                ₹ <%= item.totalAmount %>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>

      <!-- Summary -->
      <div
        class="mt-1 flex justify-end text-[9px] w-full max-w-[300px] float-right"
      >
        <table class="w-full border-collapse border border-transparent">
          <tbody>
            <tr>
              <td class="text-right pr-2">Subtotal</td>
              <td class="text-right border border-green-600 px-1">
                ₹ <%= subTotal.toFixed(2)%>
              </td>
            </tr>
            <tr>
              <td class="text-right pr-2">Discount</td>
              <td class="text-right border border-green-600 px-1">
                ₹ <%= discount.toFixed(2) %>
              </td>
            </tr>
            <tr>
              <td class="text-right pr-2">Other</td>
              <td class="text-right border border-green-600 px-1">
                ₹ <%= otherAmount.toFixed(2) %>
              </td>
            </tr>
            <tr class="font-bold border-t border-green-600">
              <td class="text-right pr-2">TOTAL</td>
              <td class="text-right border border-green-600 bg-gray-200 px-1">
                ₹ <%= Total.toFixed(2) %>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Footer -->

      <div class="mt-3 text-[9px] text-center">
        Make all checks payable to<br />
        <span class="font-bold"><%= user.fermName %></span>
      </div>
      <div class="mt-8 text-[8px] text-center">
        If you have any questions about this invoice, please contact<br />
        <%= user.email %>
      </div>

      <div class="mt-2 text-[9px] text-center italic font-semibold select-none">
        Thank You For Your Business!
      </div>

      <!-- Invoice Meta Info -->
    </div>
  </body>
</html>
